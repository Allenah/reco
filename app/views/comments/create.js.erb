function refreshForm() {
  document.querySelector('#item-<%="#{@item.id}"%> #comment_description').value='';
}

function addReview(reviewHTML) {
  const comments = document.getElementById('<%="messages-container#{@item.id}" %>');
  comments.insertAdjacentHTML('afterbegin', reviewHTML);
}


var formHTML = '<%= j render "comments/commentform", list: @list, item: @item, comment: @comment %>';

<% if @comment.errors.any? %>
  refreshForm();
<% else %>
  addReview('<%= j render "comments/comment", list: @list, item: @item, comment: @comment %>');
  refreshForm();
<% end %>
